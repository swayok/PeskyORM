<?php

namespace App\Db;

use PeskyORM\ORM\TableStructureOld\TableStructureOld;
use PeskyORM\ORM\TableStructureOld\TableColumn\TableColumnInterface;
use PeskyORM\DbExpr;

/**
 * @property-read TableColumn    $id
 * @property-read TableColumn    $login
 * @property-read TableColumn    $password
 * @property-read TableColumn    $parent_id
 * @property-read TableColumn    $created_at
 * @property-read TableColumn    $updated_at
 * @property-read TableColumn    $remember_token
 * @property-read TableColumn    $is_superadmin
 * @property-read TableColumn    $language
 * @property-read TableColumn    $ip
 * @property-read TableColumn    $role
 * @property-read TableColumn    $is_active
 * @property-read TableColumn    $name
 * @property-read TableColumn    $email
 * @property-read TableColumn    $timezone
 * @property-read TableColumn    $not_changeable_column
 * @property-read TableColumn    $big_data
 */
class AdminsTableStructure extends TableStructureOld
{

    public static function getTableName(): string
    {
        return 'admins';
    }

    private function id(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_INT)
            ->primaryKey()
            ->disallowsNullValues()
            ->convertsEmptyStringToNull();
    }

    private function login(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->uniqueValues()
            ->disallowsNullValues()
            ->convertsEmptyStringToNull();
    }

    private function password(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull();
    }

    private function parent_id(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_INT);
    }

    private function created_at(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_TIMESTAMP_WITH_TZ)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue(DbExpr::create('now()'));
    }

    private function updated_at(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_TIMESTAMP_WITH_TZ)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue(DbExpr::create('now()'));
    }

    private function remember_token(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->setDefaultValue('');
    }

    private function is_superadmin(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_BOOL)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue(false);
    }

    private function language(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->setDefaultValue('en');
    }

    private function ip(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->setDefaultValue('192.168.1.1');
    }

    private function role(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue('');
    }

    private function is_active(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_BOOL)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue(true);
    }

    private function name(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue('');
    }

    private function email(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->uniqueValues();
    }

    private function timezone(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue('UTC');
    }

    private function not_changeable_column(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_STRING)
            ->setDefaultValue('not changable');
    }

    private function big_data(): TableColumnInterface
    {
        return TableColumn::create(TableColumn::TYPE_TEXT)
            ->disallowsNullValues()
            ->convertsEmptyStringToNull()
            ->setDefaultValue('biiiiiiig data');
    }

}